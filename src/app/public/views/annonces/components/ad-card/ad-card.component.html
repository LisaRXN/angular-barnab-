<div
  [ngClass]="{
    'h-auto rounded-3xl overflow-hidden bg-white cursor-pointer m-auto mb-10 shadow-md transform transition ease-in-out hover:translate-y-[-4px] hover:shadow-lg':true,
    'w-[350px] max-w-[400px]': !smallCard,
    'transform scale-[70%]' : smallCard
    }"
>
  <div #carousel class="carousel rounded-t w-full">
    <div
      *ngFor="let photo of property.media?.images"
      class="carousel-item w-full"
    >
      <img
        [id]="'photo' + property.id"
        [src]="baseUrl + photo.photo_path"
        class="h-[250px] w-full object-cover"
        alt=""
      />
      <div
        class="absolute h-[240px] inset-0 top-0 flex justify-between items-center pointer-events-none"
      >
        <button
          [ngClass]="{
            'pointer-events-auto border-none': true,
            'opacity-0': isCarouselStart
          }"
          (click)="prevSlide()"
        >
          <svg
          class="transition-all duration-300 stroke-white"
            xmlns="http://www.w3.org/2000/svg"
            width="32"
            height="32"
            viewBox="0 0 32 32"
            fill="none"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M15 18l-6-6 6-6" />
          </svg>
        </button>
        <button
          [ngClass]="{
            'pointer-events-auto border-none': true,
            'opacity-0': isCarouselEnd
          }"
          (click)="nextSlide()"
        >
          <svg
            class="transition-all stroke-white duration-300 "
            xmlns="http://www.w3.org/2000/svg"
            width="32"
            height="32"
            viewBox="0 0 32 32"
            fill="none"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
          <path d="M9 18l6-6-6-6" />
        </svg>
        </button>
      </div>
    </div>
  </div>

  <div class="p-5 flex flex-col items-start gap-2">
    <p class="text-zinc-400 font-light">
      {{ property.property_type | titlecase }}
      <span *ngIf="property.transaction_type === 'selling'">en vente</span>
      <span *ngIf="property.transaction_type === 'renting'">en location</span>
    </p>
    <p class="font-jakarta text-lg font-extrabold text-myzinc">{{ property.addressForm.city }}</p>
    <p class="">{{ property.addressForm.zip_code }}</p>
    <div class="flex items-center justify-start gap-2">
      <p>{{ property.living_space }} m²</p>
      <p>{{ property.room }} pièces</p>
      <p *ngIf="property.floor && property.floor !== 0 ">
        {{
          property.floor + "e étage" 
        }}
      </p>
      <p *ngIf="property.property_type !== 'maison' && property.floor == 0 ">
        {{
          "Rez-de-chaussée" 
        }}
      </p>
    </div>
  </div>
  <div
    *ngIf="property.transaction_type === 'selling'"
    class="px-5 py-2 flex flex-col items-center justify-center bg-gradient-to-b from-blue-900 to-myblue rounded-b-xl"
  >
    <p class="text-lg font-bold text-white">
      {{ sellingPrice | currency : "EUR" : "symbol" : "1.0-0" }}
    </p>
    <p  class="text-sm font-light text-white">
      {{ surface_price | currency : "EUR" : "symbol" : "1.0-0" }} / m²
    </p>
  </div>
  <div
    *ngIf="property.transaction_type === 'renting'"
    class="p-5 flex items-center justify-center bg-gradient-to-b from-myblue from-blue-900 to-myblue rounded-b-xl"
  >
    <p class="text-lg font-bold text-white">
      {{ rentingPrice | currency : "EUR" : "symbol" : "1.0-0" }} <span class="text-sm font-light text-white">/ mois</span> 
    </p>
  </div>
</div>
