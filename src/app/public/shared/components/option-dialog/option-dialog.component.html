<!-- Main modal -->
<dialog
  #modal
  (click)="closeModalByClick($event)"
  class="modal rounded-lg px-4"
  id="default-modal rounded-lg"
  tabindex="-1"
  aria-hidden="true"
>
  <div
    (click)="$event.stopPropagation()"
    class="relative bg-white md:w-3/4 lg:w-2/3 xl:max-w-screen-xl h-3/4 overflow-scroll rounded-lg shadow-md"
  >
    <!-- Modal header -->
    <div
      class="sticky top-0 left-0 right-0 bg-white z-10 flex items-center justify-between p-4 border-b border-gray-200 shadow-sm"
    >
      <h3 class="text-xl font-semibold text-myzinc font-jakarta text-center">
        Le d√©tail des options
      </h3>
      <button
        (click)="closeModal()"
        type="button"
        class="absolute right-2 top-2 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-myzinc rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white"
        data-modal-hide="default-modal"
      >
        <svg
          class="w-3 h-3"
          aria-hidden="true"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 14 14"
        >
          <path
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"
          />
        </svg>
        <span class="sr-only">Close modal</span>
      </button>
    </div>

    <!-- Modal content -->
    <div class="z-10 w-full grid md:grid-cols-[1.5fr_1fr] gap-8 text-myzinc">
      <div class="w-full h-full order-2">
        <img
          class="object-cover object-top h-full xl:max-h-[700px] w-full"
          [src]="optionVisible.image"
          alt=""
        />
      </div>

      <div
        class="p-5 md:px-10 flex flex-col gap-4 order-1 font-open font-normal"
      >
        @for( feature of optionVisible.features; track feature){
        <div class="flex items-center gap-4 mt-4">
          <span
            class="min-h-10 min-w-10 flex items-center justify-center bg-myorange/10 rounded-md"
            >{{ feature.icon }}</span
          >
          <p class="font-bold">{{ feature.title }}</p>
        </div>

        <p>
          <a
            class="underline"
            [href]="'https://' + feature.url"
            target="_blank"
            rel="external"
            >{{ feature.url }}</a
          >
          <span *ngIf="feature.url2"> & </span>
          <a
            *ngIf="feature.url2"
            target="_blank"
            rel="external"
            class="underline"
            [href]="'https://' + feature.url2"
            >{{ feature.url2 }}</a
          >
          {{ feature.text }}
        </p>

        <ul class="list-disc pl-4 space-y-4 font-normal">
          @for( item of feature.list; track item){
          <li>
            <span class="font-bold">{{ item.bold }}</span
            >{{ item.text }}
          </li>
          }
        </ul>
        }
        <p class="font-normal">{{ optionVisible.endText }}</p>
      </div>
    </div>
    <!-- Modal Footer -->
    <div
      class="sticky bg-white z-10 bottom-0 p-1 px-8 border-t border-zinc-100 shadow-xl overflow-hidden"
    >
      <div class="flex items-center justify-between w-full">
        <button
          (click)="previousOption()"
          *ngIf="optionVisible.id > 1"
          class="self-start p-4 lg:px-6 text-sm text-myzinc font-light flex items-center justify-center gap-4"
        >
          <img src="assets/img/icon/arrow.png" class="w-3 rotate-180" alt="" />
          <p>{{ options[optionVisible.id - 2].name }}</p>
        </button>
        <button
          (click)="nextOption()"
          *ngIf="optionVisible.id < 4"
          class="self-end ml-auto p-4 lg:px-6 text-sm text-myzinc font-light flex items-center justify-center gap-4"
        >
          <p>{{ options[optionVisible.id].name }}</p>
          <img src="assets/img/icon/arrow.png" class="w-3" alt="" />
        </button>
      </div>
    </div>
  </div>
</dialog>
